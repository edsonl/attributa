import{C as P,A as S,B as d,r as B}from"./vendor-quasar-C1KtC9YM.js";import{r,w as N,e as V,G as U,H as I,E as t,u as Q,P as k,D as l,Q as p,N as m,M as b,I as R,V as w}from"./vendor-D8nj3W7R.js";const F={class:"row q-mb-md items-center"},L={class:"col-12 col-md-4"},M=["href"],G={__name:"Index",setup(T){const g=r([]),u=r(!1),n=r({page:1,rowsPerPage:20,rowsNumber:0,sortBy:"conversion_event_time",descending:!0}),i=r(null),v=r([]),y=[{name:"conversion_event_time",label:"Data",field:"conversion_event_time",sortable:!0,align:"left"},{name:"campaign_name",label:"Campanha",field:"campaign_name",sortable:!0,align:"left"},{name:"campaign_code",label:"C처d/Campanha",field:"campaign_code",sortable:!0,align:"left"},{name:"conversion_name",label:"Pixel/Convers찾o",field:"conversion_name",sortable:!0,align:"left"},{name:"conversion_value",label:"Valor (USD)",field:"conversion_value",sortable:!0,align:"left"},{name:"currency_code",label:"Moeda",field:"currency_code",sortable:!0,align:"left"},{name:"gclid",label:"GCLID",field:"gclid",sortable:!0,align:"left"},{name:"pageview_url",label:"URL",field:"pageview_url",sortable:!0,align:"left"},{name:"pageview_ip",label:"IP",field:"pageview_ip",sortable:!0,align:"left"}];function h(a){return a?new Date(a).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"medium"}):"-"}function C(a){return a==null||a===""?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(a))}function x(){w.get(route("panel.conversoes.campaigns")).then(a=>{v.value=a.data})}function c(a=null){u.value=!0;const o=a?.pagination??n.value,{page:e,rowsPerPage:D,sortBy:f,descending:_}=o;w.get(route("panel.conversoes.data"),{params:{page:e,per_page:D,sortBy:f,descending:_,campaign_id:i.value}}).then(s=>{g.value=s.data.data,n.value={...n.value,page:s.data.current_page,rowsPerPage:s.data.per_page,rowsNumber:s.data.total,sortBy:f,descending:_}}).finally(()=>{u.value=!1})}return N(i,()=>{n.value.page=1,c({pagination:n.value})}),V(()=>{x(),c({pagination:n.value})}),(a,o)=>(I(),U(R,null,[t(Q(k),{title:"Convers천es"}),t(B,{flat:"",bordered:"",class:"tw-rounded-2xl tw-p-4"},{default:l(()=>[p("div",F,[p("div",L,[t(P,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),options:v.value,"option-label":"name","option-value":"id","emit-value":"","map-options":"",clearable:"",label:"Filtrar por campanha"},null,8,["modelValue","options"])])]),t(S,{title:"Convers천es",rows:g.value,columns:y,"row-key":"id",loading:u.value,pagination:n.value,"onUpdate:pagination":o[1]||(o[1]=e=>n.value=e),"binary-state-sort":!0,onRequest:c},{"body-cell-conversion_event_time":l(e=>[t(d,{props:e},{default:l(()=>[b(m(h(e.value)),1)]),_:2},1032,["props"])]),"body-cell-conversion_value":l(e=>[t(d,{props:e},{default:l(()=>[b(m(C(e.value)),1)]),_:2},1032,["props"])]),"body-cell-pageview_url":l(e=>[t(d,{props:e},{default:l(()=>[p("a",{href:e.value,target:"_blank",rel:"noopener",class:"tw-text-blue-600 tw-underline"},m(e.value),9,M)]),_:2},1032,["props"])]),_:1},8,["rows","loading","pagination"])]),_:1})],64))}};export{G as default};

import{A as w,W as z,H as b,I as V,e as m}from"./vendor-quasar-Bee0Lbku.js";import{f as y,r as G,$ as x,G as S,H as B,Q as r,E as s,u as a,D as C,N as i,V as F,a0 as I}from"./vendor-BB0I-wvh.js";const N={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-3"},Q={class:"tw-space-y-2"},T={class:"tw-space-y-2"},k={class:"tw-flex tw-items-center tw-px-1 tw-pt-1"},A={class:"tw-flex tw-justify-end tw-gap-2"},U={__name:"FormConversionGoal",props:{conversionGoal:{type:Object,default:null},timezones:{type:Array,default:()=>[]},defaultTimezoneId:{type:Number,default:null}},setup(p){const l=p,g=y(()=>!!l.conversionGoal),d=G(l.timezones),e=x({goal_code:l.conversionGoal?.goal_code??"",timezone_id:l.conversionGoal?.timezone_id??l.defaultTimezoneId??null,active:l.conversionGoal?.active??!0});function u(n){return String(n??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function f(){if(e.goal_code=String(e.goal_code??"").trim(),e.goal_code=e.goal_code.replace(/[^A-Za-z0-9_-]/g,"").slice(0,30),g.value){e.put(route("panel.conversion-goals.update",l.conversionGoal.hashid??l.conversionGoal.id));return}e.post(route("panel.conversion-goals.store"))}function v(n,o){o(()=>{const t=u(String(n??"").trim());if(t===""){d.value=l.timezones;return}d.value=l.timezones.filter(c=>u(c?.label??"").includes(t)||u(c?.identifier??"").includes(t))})}function _(n){const o=String(n??"").replace(/[^A-Za-z0-9_-]/g,"").slice(0,30);o!==n&&(e.goal_code=o)}return(n,o)=>(B(),S("form",{onSubmit:I(f,["prevent"]),class:"tw-space-y-2 tw-pt-4"},[r("div",N,[r("div",Q,[s(w,{modelValue:a(e).goal_code,"onUpdate:modelValue":[o[0]||(o[0]=t=>a(e).goal_code=t),_],label:"Codigo da meta de conversao",outlined:"",dense:"",maxlength:"30",counter:"",error:!!a(e).errors.goal_code,"error-message":a(e).errors.goal_code},null,8,["modelValue","error","error-message"]),s(z,{dense:"",class:"tw-bg-sky-50 tw-text-sky-800 tw-rounded-md"},{default:C(()=>[...o[4]||(o[4]=[i(" Use apenas letras, números, ",-1),r("code",null,"-",-1),i(" e ",-1),r("code",null,"_",-1),i(". Sem espaços ou caracteres especiais. Limite: ",-1),r("strong",null,"30 caracteres",-1),i(". ",-1)])]),_:1})]),r("div",T,[s(b,{modelValue:a(e).timezone_id,"onUpdate:modelValue":o[1]||(o[1]=t=>a(e).timezone_id=t),options:d.value,"option-value":"id","option-label":t=>t?.label??t?.identifier??`ID ${t?.id??""}`,"emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:v,label:"Timezone",outlined:"",dense:"",clearable:!1,error:!!a(e).errors.timezone_id,"error-message":a(e).errors.timezone_id,hint:"Deve corresponder ao fuso horario configurado na sua conta do Google Ads."},null,8,["modelValue","options","option-label","error","error-message"]),r("div",k,[s(V,{modelValue:a(e).active,"onUpdate:modelValue":o[2]||(o[2]=t=>a(e).active=t),label:"Meta ativa","true-value":!0,"false-value":!1},null,8,["modelValue"])])])]),r("div",A,[s(m,{flat:"",label:"Cancelar",onClick:o[3]||(o[3]=t=>a(F).visit(n.route("panel.conversion-goals.index")))}),s(m,{color:"primary",label:"Salvar",type:"submit"})])],32))}};export{U as default};

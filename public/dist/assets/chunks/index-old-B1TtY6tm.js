import{x as j,h as f,C as O,A as R,J as E,B as x,k as I,c as U,p as D}from"./vendor-quasar-C1KtC9YM.js";import{r as i,f as T,C as h,H as g,D as o,Q as r,E as a,u as k,S as p,R as q,L as A,M as F,N as L,G as M}from"./vendor-D8nj3W7R.js";const $={class:"tw-flex tw-items-center tw-justify-between tw-mb-4"},G={class:"tw-flex tw-gap-2"},H={class:"tw-w-[100px] tw-h-[100px] tw-rounded tw-overflow-hidden tw-bg-gray-100 tw-flex tw-items-center tw-justify-center"},J=["src"],W={class:"tw-flex tw-gap-2"},z={class:"tw-w-full tw-flex tw-justify-end"},Z={__name:"Index-OLD",props:{clients:Object,filters:Object,meta:Object},setup(v){const d=v,s=i(d.clients.current_page),u=i(d.filters?.per_page??10),m=i(d.filters?.search??""),w=i(d.filters?.sort??"id"),b=i(d.filters?.direction??"desc"),y=i(!1),V=[10,15,25,50,100],B=T(()=>({page:s.value,rowsPerPage:Number(u.value),sortBy:w.value,descending:b.value!=="asc"})),C=[{name:"image",label:"Imagem",field:"image_url",align:"left",sortable:!1},{name:"name",label:"Nome",field:"name",align:"left",sortable:!0},{name:"website",label:"Website",field:"website",align:"left",sortable:!0},{name:"order",label:"Ordem",field:"order",align:"left",sortable:!0},{name:"visible_label",label:"Visível no site",field:"visible_label",align:"center",sortable:!0},{name:"actions",label:"Ações",field:"id",align:"right",sortable:!1}],n=i([]);function c(l={}){y.value=!0,p.get(route("panel.clients.index"),{page:l.page??s.value,per_page:l.per_page??u.value,search:l.search??m.value,sort:l.sort??w.value,direction:l.direction??b.value},{preserveState:!0,preserveScroll:!0,replace:!0,onFinish:()=>{y.value=!1}})}function _(){s.value=1,c({})}function Q(l){s.value=l,c({})}function P(l){const t=l.pagination;s.value=t.page,u.value=t.rowsPerPage,t.sortBy&&(w.value=t.sortBy,b.value=t.descending?"desc":"asc"),c({})}function S(l){window.confirm("Remover este cliente?")&&p.delete(route("panel.clients.destroy",l),{preserveScroll:!0,onSuccess:()=>c({})})}function N(){if(n.value.length&&window.confirm(`Remover ${n.value.length} registro(s)?`)){const l=n.value.map(e=>e.id),t=()=>{const e=l.shift();if(!e){n.value=[],c({});return}p.delete(route("panel.clients.destroy",e),{preserveScroll:!0,onSuccess:t,onError:t})};t()}}return(l,t)=>(g(),h(D,{padding:""},{default:o(()=>[r("div",$,[t[5]||(t[5]=r("div",{class:"tw-text-xl tw-font-semibold"},"Clientes",-1)),r("div",G,[a(j,{modelValue:m.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>m.value=e),_],outlined:"",dense:"",debounce:"400",placeholder:"Buscar por nome/website"},{append:o(()=>[a(f,{flat:"",dense:"",icon:"search",onClick:_})]),_:1},8,["modelValue"]),a(O,{modelValue:u.value,"onUpdate:modelValue":[t[1]||(t[1]=e=>u.value=e),_],options:V,outlined:"",dense:"",style:{width:"120px"},label:"Registros"},null,8,["modelValue"]),a(f,{color:"primary",onClick:t[2]||(t[2]=()=>k(p).visit(l.route("panel.clients.create"))),label:"Novo",icon:"add",dense:"",unelevated:""})])]),a(R,{flat:"",separator:"cell","row-key":"id",rows:v.clients.data,columns:C,loading:y.value,selection:"multiple",selected:n.value,"onUpdate:selected":t[4]||(t[4]=e=>n.value=e),pagination:B.value,onRequest:P},{"body-cell-image_url":o(e=>[a(x,{props:e},{default:o(()=>[r("div",H,[e.row.image_url?(g(),M("img",{key:0,src:e.row.image_url,alt:"thumb",class:"tw-w-full tw-h-full tw-object-cover"},null,8,J)):(g(),h(U,{key:1,name:"image"}))])]),_:2},1032,["props"])]),"body-cell-visible_label":o(e=>[a(x,{props:e},{default:o(()=>[a(I,{color:e.row.visible?"green":"grey",outline:""},{default:o(()=>[F(L(e.row.visible_label),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"top-right":o(()=>[r("div",W,[n.value.length?(g(),h(f,{key:0,color:"negative",flat:"",dense:"",icon:"delete",label:"Excluir selecionados",onClick:N})):A("",!0)])]),"body-cell-actions":o(e=>[a(x,{props:e,class:"tw-text-right"},{default:o(()=>[a(k(q),{href:l.route("panel.clients.edit",e.row.id)},{default:o(()=>[a(f,{dense:"",flat:"",icon:"edit"})]),_:1},8,["href"]),a(f,{dense:"",flat:"",icon:"delete",color:"negative",onClick:K=>S(e.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),bottom:o(()=>[r("div",z,[a(E,{modelValue:s.value,"onUpdate:modelValue":[t[3]||(t[3]=e=>s.value=e),Q],max:v.clients.last_page,"max-pages":"10","direction-links":""},null,8,["modelValue","max"])])]),_:1},8,["rows","loading","selected","pagination"])]),_:1}))}};export{Z as default};

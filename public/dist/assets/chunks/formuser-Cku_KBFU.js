import{r as b,w as V,f as _,Z as y,G as x,H as h,Q as d,E as l,D as r,u as t,N as g,$ as C}from"./vendor-D8nj3W7R.js";import{s as S,y as Q,x as u,h as m,r as E}from"./vendor-quasar-CQUzQrOh.js";const U={class:"tw-flex tw-justify-center tw-mt-8"},k={class:"tw-w-full md:tw-max-w-xl lg:tw-max-w-2xl"},B={class:"tw-text-lg tw-font-semibold tw-mb-2"},I={class:"md:tw-col-span-2 tw-flex tw-gap-2 tw-justify-between"},D={__name:"FormUser",props:{mode:{type:String,default:"create"},user:{type:Object,default:()=>({id:null,name:"",email:""})}},emits:["submit"],setup(p,{emit:f}){const i=p,w=f,a=b({name:"",email:"",password:"",password_confirmation:""});V(()=>i.user,n=>{n&&(a.value.name=n.name??"",a.value.email=n.email??"",a.value.password="",a.value.password_confirmation="")},{immediate:!0});const s=_(()=>i.mode==="edit");function c(){w("submit",{...a.value})}return(n,o)=>{const v=y("Link");return h(),x("div",U,[d("div",k,[l(t(E),{flat:"",bordered:""},{default:r(()=>[l(t(S),null,{default:r(()=>[d("div",B,g(s.value?"Editar usuário":"Cadastrar usuário"),1),l(t(Q),{onSubmit:C(c,["prevent"]),class:"tw-grid tw-gap-4 md:tw-grid-cols-2"},{default:r(()=>[l(t(u),{modelValue:a.value.name,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.name=e),label:"Nome",outlined:"",dense:"",rules:[e=>!!e||"Informe o nome"],class:"md:tw-col-span-2"},null,8,["modelValue","rules"]),l(t(u),{modelValue:a.value.email,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.email=e),label:"E-mail",type:"email",outlined:"",dense:"",rules:[e=>!!e||"Informe o e-mail"],class:"md:tw-col-span-2"},null,8,["modelValue","rules"]),l(t(u),{modelValue:a.value.password,"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.password=e),type:"password",outlined:"",dense:"",label:s.value?"Senha (opcional)":"Senha",rules:s.value?[]:[e=>!!e||"Informe a senha",e=>(e?.length??0)>=8||"Mínimo 8 caracteres"]},null,8,["modelValue","label","rules"]),l(t(u),{modelValue:a.value.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=e=>a.value.password_confirmation=e),type:"password",outlined:"",dense:"",label:s.value?"Confirmar senha (opcional)":"Confirmar senha",rules:s.value?[]:[e=>e===a.value.password||"Confirmação não confere"]},null,8,["modelValue","label","rules"]),d("div",I,[l(v,{href:n.route("panel.users.index"),as:"button",type:"button"},{default:r(()=>[l(t(m),{flat:"",color:"primary",label:"Voltar"})]),_:1},8,["href"]),l(t(m),{type:"submit",color:"positive",unelevated:"",label:s.value?"Salvar alterações":"Cadastrar"},null,8,["label"])])]),_:1})]),_:1})]),_:1})])])}}};export{D as default};

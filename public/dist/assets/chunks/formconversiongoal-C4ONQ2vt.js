import{x as w,T as z,C as b,E as V,h as m}from"./vendor-quasar-DSLrBDx5.js";import{f as y,r as x,Y as G,E as C,F as S,O as r,C as n,u as a,B,K as i,Q as F,Z as Q}from"./vendor-D6jaF0sv.js";const h={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-3"},k={class:"tw-space-y-2"},T={class:"tw-space-y-2"},A={class:"tw-flex tw-items-center tw-px-1 tw-pt-1"},E={class:"tw-flex tw-justify-end tw-gap-2"},D={__name:"FormConversionGoal",props:{conversionGoal:{type:Object,default:null},timezones:{type:Array,default:()=>[]}},setup(p){const l=p,g=y(()=>!!l.conversionGoal),d=x(l.timezones),e=G({goal_code:l.conversionGoal?.goal_code??"",timezone_id:l.conversionGoal?.timezone_id??null,active:l.conversionGoal?.active??!0});function u(s){return String(s??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function v(){if(e.goal_code=String(e.goal_code??"").trim(),e.goal_code=e.goal_code.replace(/[^A-Za-z0-9_-]/g,"").slice(0,30),g.value){e.put(route("panel.conversion-goals.update",l.conversionGoal.hashid??l.conversionGoal.id));return}e.post(route("panel.conversion-goals.store"))}function f(s,o){o(()=>{const t=u(String(s??"").trim());if(t===""){d.value=l.timezones;return}d.value=l.timezones.filter(c=>u(c?.label??"").includes(t)||u(c?.identifier??"").includes(t))})}function _(s){const o=String(s??"").replace(/[^A-Za-z0-9_-]/g,"").slice(0,30);o!==s&&(e.goal_code=o)}return(s,o)=>(S(),C("form",{onSubmit:Q(v,["prevent"]),class:"tw-space-y-2 tw-pt-4"},[r("div",h,[r("div",k,[n(w,{modelValue:a(e).goal_code,"onUpdate:modelValue":[o[0]||(o[0]=t=>a(e).goal_code=t),_],label:"Codigo da meta de conversao",outlined:"",dense:"",maxlength:"30",counter:"",error:!!a(e).errors.goal_code,"error-message":a(e).errors.goal_code},null,8,["modelValue","error","error-message"]),n(z,{dense:"",class:"tw-bg-sky-50 tw-text-sky-800 tw-rounded-md"},{default:B(()=>[...o[4]||(o[4]=[i(" Use apenas letras, números, ",-1),r("code",null,"-",-1),i(" e ",-1),r("code",null,"_",-1),i(". Sem espaços ou caracteres especiais. Limite: ",-1),r("strong",null,"30 caracteres",-1),i(". ",-1)])]),_:1})]),r("div",T,[n(b,{modelValue:a(e).timezone_id,"onUpdate:modelValue":o[1]||(o[1]=t=>a(e).timezone_id=t),options:d.value,"option-value":"id","option-label":t=>t?.label??t?.identifier??`ID ${t?.id??""}`,"emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:f,label:"Timezone",outlined:"",dense:"",clearable:!1,error:!!a(e).errors.timezone_id,"error-message":a(e).errors.timezone_id,hint:"Deve corresponder ao fuso horario configurado na sua conta do Google Ads."},null,8,["modelValue","options","option-label","error","error-message"]),r("div",A,[n(V,{modelValue:a(e).active,"onUpdate:modelValue":o[2]||(o[2]=t=>a(e).active=t),label:"Meta ativa","true-value":!0,"false-value":!1},null,8,["modelValue"])])])]),r("div",E,[n(m,{flat:"",label:"Cancelar",onClick:o[3]||(o[3]=t=>a(F).visit(s.route("panel.conversion-goals.index")))}),n(m,{color:"primary",label:"Salvar",type:"submit"})])],32))}};export{D as default};
